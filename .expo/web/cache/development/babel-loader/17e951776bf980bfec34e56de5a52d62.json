{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserData = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar CryptoJS = _interopRequireWildcard(require(\"crypto-js\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar getUserData = function getUserData(accountId, authToken, isGoogle) {\n  var loginUrlSymbol, loginKey, userInfo1UrlSymbol, userInfo1Key, userInfo1PayloadKey, userInfo2UrlSymbol, userInfo2Key, userInfo2PayloadKey, userInfo3UrlSymbol, userInfo3Key, userInfo3PayloadKey, dataBySymbol, getInitialAuthentication, initialAuthentication, getUserData1, userData1, getUserData2, userData2, getUserData3, userData3;\n  return _regenerator.default.async(function getUserData$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          console.log(\"getUserData\", accountId, authToken, isGoogle);\n          loginUrlSymbol = 'fSG1eXI9';\n          loginKey = \"rVG09Xnt\\0\\0\\0\\0\\0\\0\\0\\0\";\n          userInfo1UrlSymbol = 'u7sHDCg4';\n          userInfo1Key = \"rcsq2eG7\\0\\0\\0\\0\\0\\0\\0\\0\";\n          userInfo1PayloadKey = 'X07iYtp5';\n          userInfo2UrlSymbol = '7KZ4Wvuw';\n          userInfo2Key = \"7VNRi6Dk\\0\\0\\0\\0\\0\\0\\0\\0\";\n          userInfo2PayloadKey = '2eK5Vkr8';\n          userInfo3UrlSymbol = 'lZXr14iy';\n          userInfo3Key = \"0Dn4hbWC\\0\\0\\0\\0\\0\\0\\0\\0\";\n          userInfo3PayloadKey = '4rjw5pnv';\n          dataBySymbol = {};\n          dataBySymbol[loginUrlSymbol] = 'ffbeConnect';\n          dataBySymbol[userInfo1UrlSymbol] = 'ffbeUserData';\n          dataBySymbol[userInfo2UrlSymbol] = 'ffbeUserData3';\n          dataBySymbol[userInfo3UrlSymbol] = 'ffbeUserData3';\n          _context5.prev = 17;\n\n          getInitialAuthentication = function getInitialAuthentication() {\n            var data, data_1, data_2;\n            return _regenerator.default.async(function getInitialAuthentication$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _regenerator.default.awrap(getAuthenticationPayload(accountId, authToken, isGoogle, loginKey));\n\n                  case 2:\n                    data = _context.sent;\n                    _context.next = 5;\n                    return _regenerator.default.awrap(callActionSymbol(loginUrlSymbol, loginKey, data));\n\n                  case 5:\n                    data_1 = _context.sent;\n                    _context.next = 8;\n                    return _regenerator.default.awrap(getLoginToken(accountId, authToken, isGoogle, data_1));\n\n                  case 8:\n                    data_2 = _context.sent;\n                    _context.next = 11;\n                    return _regenerator.default.awrap(wait1s(data_2));\n\n                  case 11:\n                    return _context.abrupt(\"return\", _context.sent);\n\n                  case 12:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          _context5.next = 21;\n          return _regenerator.default.awrap(getInitialAuthentication());\n\n        case 21:\n          initialAuthentication = _context5.sent;\n\n          getUserData1 = function getUserData1(initial_data) {\n            var data_1, data_2, data_3;\n            return _regenerator.default.async(function getUserData1$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    console.log('1');\n                    _context2.next = 3;\n                    return _regenerator.default.awrap(getUserInfoRequestPayload(userInfo1Key, userInfo1PayloadKey, initial_data));\n\n                  case 3:\n                    data_1 = _context2.sent;\n                    _context2.next = 6;\n                    return _regenerator.default.awrap(callActionSymbol(userInfo1UrlSymbol, userInfo1Key, data_1));\n\n                  case 6:\n                    data_2 = _context2.sent;\n                    _context2.next = 9;\n                    return _regenerator.default.awrap(saveResponseAs('userData', data_2));\n\n                  case 9:\n                    data_3 = _context2.sent;\n                    _context2.next = 12;\n                    return _regenerator.default.awrap(wait1s(data_3));\n\n                  case 12:\n                    return _context2.abrupt(\"return\", _context2.sent);\n\n                  case 13:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          _context5.next = 25;\n          return _regenerator.default.awrap(getUserData1(initialAuthentication));\n\n        case 25:\n          userData1 = _context5.sent;\n\n          getUserData2 = function getUserData2(userData) {\n            var data_1, data_2, data_3;\n            return _regenerator.default.async(function getUserData2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    console.log('2');\n                    _context3.next = 3;\n                    return _regenerator.default.awrap(getUserInfoRequestPayload(userInfo2Key, userInfo2PayloadKey, userData));\n\n                  case 3:\n                    data_1 = _context3.sent;\n                    _context3.next = 6;\n                    return _regenerator.default.awrap(callActionSymbol(userInfo2UrlSymbol, userInfo2Key, data_1));\n\n                  case 6:\n                    data_2 = _context3.sent;\n                    _context3.next = 9;\n                    return _regenerator.default.awrap(saveResponseAs('userData2', data_2));\n\n                  case 9:\n                    data_3 = _context3.sent;\n                    _context3.next = 12;\n                    return _regenerator.default.awrap(wait1s(data_3));\n\n                  case 12:\n                    return _context3.abrupt(\"return\", _context3.sent);\n\n                  case 13:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          _context5.next = 29;\n          return _regenerator.default.awrap(getUserData2(userData1));\n\n        case 29:\n          userData2 = _context5.sent;\n\n          getUserData3 = function getUserData3(userData) {\n            var data_1, data_2, data_3;\n            return _regenerator.default.async(function getUserData3$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    console.log('3');\n                    _context4.next = 3;\n                    return _regenerator.default.awrap(getUserInfoRequestPayload(userInfo3Key, userInfo3PayloadKey, userData));\n\n                  case 3:\n                    data_1 = _context4.sent;\n                    _context4.next = 6;\n                    return _regenerator.default.awrap(callActionSymbol(userInfo3UrlSymbol, userInfo3Key, data_1));\n\n                  case 6:\n                    data_2 = _context4.sent;\n                    _context4.next = 9;\n                    return _regenerator.default.awrap(saveResponseAs('userData3', data_2));\n\n                  case 9:\n                    data_3 = _context4.sent;\n                    _context4.next = 12;\n                    return _regenerator.default.awrap(wait1s(data_3));\n\n                  case 12:\n                    return _context4.abrupt(\"return\", _context4.sent);\n\n                  case 13:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          _context5.next = 33;\n          return _regenerator.default.awrap(getUserData3(userData2));\n\n        case 33:\n          userData3 = _context5.sent;\n          _context5.next = 39;\n          break;\n\n        case 36:\n          _context5.prev = 36;\n          _context5.t0 = _context5[\"catch\"](17);\n          console.log('error', _context5.t0);\n\n        case 39:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, [[17, 36]], Promise);\n};\n\nexports.getUserData = getUserData;\n\nfunction wait1s(data) {\n  return new Promise(function (resolve) {\n    return setTimeout(function () {\n      return resolve(data);\n    }, 1000);\n  });\n}\n\nfunction saveResponseAs(name, data) {\n  return new Promise(function (resolve) {\n    data[name] = data.jsonResult;\n    resolve(data);\n  });\n}\n\nfunction getAuthenticationPayload(accountId, authToken, isGoogle, actionKey) {\n  return new Promise(function (resolve) {\n    if (isGoogle) {\n      var testPayload = \"{\\\"LhVz6aD2\\\":[{\\\"6Nf5risL\\\":\\\"0\\\",\\\"40w6brpQ\\\":\\\"0\\\",\\\"jHstiL12\\\":\\\"0\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\\\",\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"e5zgvyv7\\\":\\\"\" + authToken + \"\\\",\\\"GwtMEDfU\\\":\\\"\" + accountId + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"1\\\"}],\\\"c402FmRD\\\":[{\\\"kZdGGshD\\\":\\\"2\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_AND\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"2047\\\"}]}\";\n    } else {\n      var testPayload = \"{\\\"LhVz6aD2\\\":[{\\\"9Tbns0eI\\\":null,\\\"9qh17ZUf\\\":null,\\\"6Nf5risL\\\":\\\"0\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\\\",\\\"U7CPaH9B\\\":null,\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"X6jT6zrQ\\\":null,\\\"DOFV3qRF\\\":null,\\\"P_FB_TOKEN\\\":\\\"\" + authToken + \"\\\",\\\"P_FB_ID\\\":\\\"\" + accountId + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"0\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_IOS\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"377\\\"}]}\";\n    }\n\n    var encrypted = CryptoJS.AES.encrypt(testPayload, CryptoJS.enc.Utf8.parse(actionKey), {\n      mode: CryptoJS.mode.ECB,\n      padding: CryptoJS.pad.Pkcs7\n    });\n    resolve({\n      payload: \"{\\\"TEAYk6R1\\\":{\\\"ytHoz4E2\\\":\\\"75527\\\",\\\"z5hB3P01\\\":\\\"75fYdNxq\\\"},\\\"t7n6cVWf\\\":{\\\"qrVcDe48\\\":\\\"\" + encrypted.ciphertext.toString(CryptoJS.enc.Base64) + \"\\\"}}\"\n    });\n  });\n}\n\nfunction getLoginToken(accountId, authToken, isGoogle, data) {\n  return new Promise(function (resolve) {\n    if (isGoogle) {\n      data.loginToken = \"{\\\"LhVz6aD2\\\":[{\" + \"\\\"9qh17ZUf\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9qh17ZUf\"] + \"\\\",\" + \"\\\"JC61TPqS\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"JC61TPqS\"] + \"\\\",\" + \"\\\"6Nf5risL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"6Nf5risL\"] + \"\\\",\" + \"\\\"40w6brpQ\\\":\\\"0\\\",\" + \"\\\"jHstiL12\\\":\\\"0\\\",\" + \"\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\" + \"\\\"K1G4fBjF\\\":\\\"2\\\",\" + \"\\\"e8Si6TGh\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"e8Si6TGh\"] + \"\\\",\" + \"\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\" + \"\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\" + \"\\\"m3Wghr1j\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"m3Wghr1j\"] + \"\\\",\" + \"\\\"ma6Ac53v\\\":\\\"0\\\",\" + \"\\\"D2I1Vtog\\\":\\\"0\\\",\" + \"\\\"9K0Pzcpd\\\":\\\"10000\\\",\" + \"\\\"mESKDlqL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"mESKDlqL\"] + \"\\\",\" + \"\\\"iVN1HD3p\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"iVN1HD3p\"] + \"\\\",\" + \"\\\"Y76dKryw\\\":null,\" + \"\\\"6e4ik6kA\\\":\\\"\\\",\" + \"\\\"NggnPgQC\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"NggnPgQC\"] + \"\\\",\" + \"\\\"GwtMEDfU\\\":\\\"\" + accountId + \"\\\",\" + \"\\\"e5zgvyv7\\\":\\\"\" + authToken + \"\\\",\" + \"\\\"9Tbns0eI\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9Tbns0eI\"] + \"\\\"\" + \"}],\\\"QCcFB3h9\\\":[{\\\"qrVcDe48\\\":\\\"\" + data.jsonResult[\"QCcFB3h9\"][0][\"qrVcDe48\"] + \"\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_AND\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"}]}\";\n    } else {\n      data.loginToken = \"{\\\"LhVz6aD2\\\":[{\\\"JC61TPqS\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"JC61TPqS\"] + \"\\\",\\\"m3Wghr1j\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"m3Wghr1j\"] + \"\\\",\\\"mESKDlqL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"mESKDlqL\"] + \"\\\",\\\"iVN1HD3p\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"iVN1HD3p\"] + \"\\\",\\\"9K0Pzcpd\\\":\\\"10000\\\",\\\"X6jT6zrQ\\\":\\\"10101870574910143\\\",\\\"9Tbns0eI\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9Tbns0eI\"] + \"\\\",\\\"9qh17ZUf\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9qh17ZUf\"] + \"\\\",\\\"6Nf5risL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"6Nf5risL\"] + \"\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"e8Si6TGh\"] + \"\\\",\\\"U7CPaH9B\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"U7CPaH9B\"] + \"\\\",\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"DOFV3qRF\\\":null,\\\"P_FB_TOKEN\\\":null,\\\"P_FB_ID\\\":null}],\\\"QCcFB3h9\\\":[{\\\"qrVcDe48\\\":\\\"\" + data.jsonResult[\"QCcFB3h9\"][0][\"qrVcDe48\"] + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"0\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_IOS\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"}]}\";\n    }\n\n    resolve(data);\n  });\n}\n\nfunction getUserInfoRequestPayload(actionKey, payloadKey, data) {\n  return new Promise(function (resolve) {\n    var secondEncrypted = CryptoJS.AES.encrypt(data.loginToken, CryptoJS.enc.Utf8.parse(actionKey), {\n      mode: CryptoJS.mode.ECB,\n      padding: CryptoJS.pad.Pkcs7\n    });\n    data.payload = \"{\\\"TEAYk6R1\\\":{\\\"ytHoz4E2\\\":\\\"75528\\\",\\\"z5hB3P01\\\":\\\"\" + payloadKey + \"\\\"},\\\"t7n6cVWf\\\":{\\\"qrVcDe48\\\":\\\"\" + secondEncrypted.ciphertext.toString(CryptoJS.enc.Base64) + \"\\\"}}\";\n    resolve(data);\n  });\n}\n\nfunction callActionSymbol(actionSymbol, actionKey, data) {\n  return new Promise(function (resolve, reject) {\n    (0, _axios.default)({\n      method: \"POST\",\n      url: \"https://lapis340v-gndgr.gumi.sg/lapisProd/app/php/gme/actionSymbol/\" + actionSymbol + \".php\",\n      data: data.payload,\n      contentType: \"application/json; charset=utf-8\",\n      responseType: \"json\"\n    }).then(function (response) {\n      try {\n        console.log('callActionSymbol response', response);\n        var encryptedPayload = response.data['t7n6cVWf']['qrVcDe48'];\n        var decrypted = CryptoJS.AES.decrypt({\n          ciphertext: CryptoJS.enc.Base64.parse(encryptedPayload.toString())\n        }, CryptoJS.enc.Utf8.parse(actionKey), {\n          mode: CryptoJS.mode.ECB,\n          padding: CryptoJS.pad.Pkcs7\n        });\n        data.jsonResult = JSON.parse(CryptoJS.enc.Utf8.stringify(decrypted));\n        resolve(data);\n      } catch (e) {\n        reject({\n          actionSymbol: actionSymbol,\n          status: e.name,\n          error: e.message\n        });\n      }\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/Douchington/Desktop/Scripts/ffbeDataExporterMobile/background.js"],"names":["getUserData","accountId","authToken","isGoogle","console","log","loginUrlSymbol","loginKey","userInfo1UrlSymbol","userInfo1Key","userInfo1PayloadKey","userInfo2UrlSymbol","userInfo2Key","userInfo2PayloadKey","userInfo3UrlSymbol","userInfo3Key","userInfo3PayloadKey","dataBySymbol","getInitialAuthentication","getAuthenticationPayload","data","callActionSymbol","data_1","getLoginToken","data_2","wait1s","initialAuthentication","getUserData1","initial_data","getUserInfoRequestPayload","saveResponseAs","data_3","userData1","getUserData2","userData","userData2","getUserData3","userData3","Promise","resolve","setTimeout","name","jsonResult","actionKey","testPayload","encrypted","CryptoJS","AES","encrypt","enc","Utf8","parse","mode","ECB","padding","pad","Pkcs7","payload","ciphertext","toString","Base64","loginToken","payloadKey","secondEncrypted","actionSymbol","reject","method","url","contentType","responseType","then","response","encryptedPayload","decrypted","decrypt","JSON","stringify","e","status","error","message"],"mappings":"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","sourcesContent":["import * as CryptoJS from 'crypto-js'\r\nimport axios from 'axios'\r\n//for returned data from GoogleSignin in App\r\n//getUserData(GoogleSignin.signIn().user.id, GoogleSignin.getTokens().accessToken, true)\r\n\r\n//for FB data \r\n//my accountId 10105404585020182 \r\n//my authToken EAARmB9evD0cBAEW6nS6HkXCFfbtqk7GbmWgL1DqQm41TfTffHZB2dEfZBaJfrrtKdOfHhRGeqvdIVZCiAZB88wyVoSDZBxVcRsrcfrb7suT9zMQVA3cfkdVTCZBffB55gawp6gugO0I2arK6ZBCDXMA3jQlN03WGCovmW5tRDBknk2JoaJVc4EpPFN0SNDqLjER2e7mN5gsMAZDZD0 \r\n// 1238083776220999\r\n//FFBE App login URL for FB Apps https://m.facebook.com/login.php?skip_api_login=1&api_key=1238083776220999&signed_next=1&next=https%3A%2F%2Fm.facebook.com%2Fv3.2%2Fdialog%2Foauth%3Fredirect_uri%3Dfbconnect%253A%252F%252Fsuccess%26display%3Dtouch%26state%3D%257B%25220_auth_logger_id%2522%253A%2522792e45db-e19b-4aec-9efa-767011b65d81%2522%252C%25223_method%2522%253A%2522web_view%2522%257D%26scope%3Duser_friends%26response_type%3Dtoken%252Csigned_request%26default_audience%3Dfriends%26return_scopes%3Dtrue%26auth_type%3Drerequest%26client_id%3D1238083776220999%26ret%3Dlogin%26sdk%3Dandroid-4.40.0%26logger_id%3D792e45db-e19b-4aec-9efa-767011b65d81&cancel_url=fbconnect%3A%2F%2Fsuccess%3Ferror%3Daccess_denied%26error_code%3D200%26error_description%3DPermissions%2Berror%26error_reason%3Duser_denied%26state%3D%257B%25220_auth_logger_id%2522%253A%2522792e45db-e19b-4aec-9efa-767011b65d81%2522%252C%25223_method%2522%253A%2522web_view%2522%257D%26e2e%3D%257B%2522init%2522%253A1549652357497%257D&display=touch&locale=en_US&logger_id=792e45db-e19b-4aec-9efa-767011b65d81&_rdr\r\n//create FB Login flow with above URL\r\n\r\nexport const getUserData = async (accountId, authToken, isGoogle) => {\r\n  console.log(\"getUserData\", accountId, authToken, isGoogle);\r\n\r\n  let loginUrlSymbol = 'fSG1eXI9';\r\n  let loginKey = \"rVG09Xnt\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n\r\n  let userInfo1UrlSymbol = 'u7sHDCg4';\r\n  let userInfo1Key = \"rcsq2eG7\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n  let userInfo1PayloadKey = 'X07iYtp5';\r\n\r\n  let userInfo2UrlSymbol = '7KZ4Wvuw';\r\n  let userInfo2Key = \"7VNRi6Dk\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n  let userInfo2PayloadKey = '2eK5Vkr8';\r\n\r\n  let userInfo3UrlSymbol = 'lZXr14iy';\r\n  let userInfo3Key = \"0Dn4hbWC\\0\\0\\0\\0\\0\\0\\0\\0\"\r\n  let userInfo3PayloadKey = '4rjw5pnv';\r\n\r\n  let dataBySymbol = {};\r\n  dataBySymbol[loginUrlSymbol] = 'ffbeConnect';\r\n  dataBySymbol[userInfo1UrlSymbol] = 'ffbeUserData';\r\n  dataBySymbol[userInfo2UrlSymbol] = 'ffbeUserData3';\r\n  dataBySymbol[userInfo3UrlSymbol] = 'ffbeUserData3';\r\n\r\n  //take all the promises and put them in useEffects in App?\r\n  try {\r\n    const getInitialAuthentication = async () => {\r\n      const data = await getAuthenticationPayload(accountId, authToken, isGoogle, loginKey);\r\n      const data_1 = await callActionSymbol(loginUrlSymbol, loginKey, data);\r\n      const data_2 = await getLoginToken(accountId, authToken, isGoogle, data_1);\r\n      return await wait1s(data_2);\r\n    }\r\n    const initialAuthentication = await getInitialAuthentication()\r\n\r\n    const getUserData1 = async (initial_data) => {\r\n      console.log('1')\r\n      const data_1 = await getUserInfoRequestPayload(userInfo1Key, userInfo1PayloadKey, initial_data);\r\n      // console.log('getUserInfoRequestPayload 1', data_1)\r\n      const data_2 = await callActionSymbol(userInfo1UrlSymbol, userInfo1Key, data_1);\r\n      const data_3 = await saveResponseAs('userData', data_2);\r\n      return await wait1s(data_3);\r\n    }\r\n    const userData1 = await getUserData1(initialAuthentication)\r\n\r\n    const getUserData2 = async (userData) => {\r\n      console.log('2')\r\n      const data_1 = await getUserInfoRequestPayload(userInfo2Key, userInfo2PayloadKey, userData);\r\n      const data_2 = await callActionSymbol(userInfo2UrlSymbol, userInfo2Key, data_1);\r\n      const data_3 = await saveResponseAs('userData2', data_2);\r\n      return await wait1s(data_3);\r\n    }\r\n    const userData2 = await getUserData2(userData1)\r\n\r\n    const getUserData3 = async (userData) => {\r\n      console.log('3')\r\n      const data_1 = await getUserInfoRequestPayload(userInfo3Key, userInfo3PayloadKey, userData);\r\n      const data_2 = await callActionSymbol(userInfo3UrlSymbol, userInfo3Key, data_1);\r\n      const data_3 = await saveResponseAs('userData3', data_2);\r\n      return await wait1s(data_3);\r\n    }\r\n    const userData3 = await getUserData3(userData2)\r\n\r\n    // console.log('initialAuthentication', initialAuthentication)\r\n    // console.log('userData1', userData1)\r\n    // console.log('userData2', userData2)\r\n    // console.log('userData3', userData3)\r\n    // return {userData: data.userData, userData2: data.userData2, userData3: data.userData3}\r\n  } catch (errorData) {\r\n    console.log('error', errorData)\r\n    // console.log({ type: \"error\", data: dataBySymbol[errorData.actionSymbol], message: `${errorData.status} - ${errorData.error}` })\r\n  }\r\n  // try{\r\n  //   return {userData: data.userData, userData2: data.userData2, userData3: data.userData3}\r\n  // } catch (errorData){\r\n  //   console.log({ type: \"error\", data: dataBySymbol[errorData.actionSymbol], message: `${errorData.status} - ${errorData.error}` })\r\n  // }\r\n\r\n\r\n  //return entire promise chain to be resolved as async/await in App\r\n  // return getAuthenticationPayload(accountId, authToken, isGoogle, loginKey)\r\n  //   .then(data => callActionSymbol(loginUrlSymbol, loginKey, data))\r\n  //   .then(data => getLoginToken(accountId, authToken, isGoogle, data))\r\n  //   .then(data => wait1s(data))\r\n\r\n  //     //1\r\n  //   .then(data => getUserInfoRequestPayload(userInfo1Key, userInfo1PayloadKey, data))\r\n  //   .then(data => callActionSymbol(userInfo1UrlSymbol, userInfo1Key, data))\r\n  //   .then(data => saveResponseAs('userData', data))\r\n  //   .then(data => wait1s(data))\r\n  //     //2\r\n  //   .then(data => getUserInfoRequestPayload(userInfo2Key, userInfo2PayloadKey, data))\r\n  //   .then(data => callActionSymbol(userInfo2UrlSymbol, userInfo2Key, data))\r\n  //   .then(data => saveResponseAs('userData2', data))\r\n  //   .then(data => wait1s(data))\r\n  //     //3\r\n  //   .then(data => getUserInfoRequestPayload(userInfo3Key, userInfo3PayloadKey, data))\r\n  //   .then(data => callActionSymbol(userInfo3UrlSymbol, userInfo3Key, data))\r\n  //   .then(data => saveResponseAs('userData3', data))\r\n  //   .then(data=> {\r\n  //     return {userData: data.userData, userData2: data.userData2, userData3: data.userData3} \r\n  //   })\r\n\r\n  //   .catch(errorData => console.log({ type: \"error\", data: dataBySymbol[errorData.actionSymbol], message: `${errorData.status} - ${errorData.error}` }));\r\n}\r\n\r\nfunction wait1s(data) {\r\n  return new Promise(resolve => setTimeout(() => resolve(data), 1000));\r\n}\r\n\r\n//change this to states in App\r\nfunction saveResponseAs(name, data) {\r\n  return new Promise(resolve => {\r\n    data[name] = data.jsonResult;\r\n    resolve(data);\r\n  });\r\n}\r\n\r\n\r\nfunction getAuthenticationPayload(accountId, authToken, isGoogle, actionKey) {\r\n  return new Promise((resolve => {\r\n    if (isGoogle) {\r\n      var testPayload = \"{\\\"LhVz6aD2\\\":[{\\\"6Nf5risL\\\":\\\"0\\\",\\\"40w6brpQ\\\":\\\"0\\\",\\\"jHstiL12\\\":\\\"0\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\\\",\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"e5zgvyv7\\\":\\\"\" + authToken + \"\\\",\\\"GwtMEDfU\\\":\\\"\" + accountId + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"1\\\"}],\\\"c402FmRD\\\":[{\\\"kZdGGshD\\\":\\\"2\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_AND\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"2047\\\"}]}\";\r\n    } else {\r\n      var testPayload = \"{\\\"LhVz6aD2\\\":[{\\\"9Tbns0eI\\\":null,\\\"9qh17ZUf\\\":null,\\\"6Nf5risL\\\":\\\"0\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\\\",\\\"U7CPaH9B\\\":null,\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"X6jT6zrQ\\\":null,\\\"DOFV3qRF\\\":null,\\\"P_FB_TOKEN\\\":\\\"\" + authToken + \"\\\",\\\"P_FB_ID\\\":\\\"\" + accountId + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"0\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_IOS\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"377\\\"}]}\";\r\n    }\r\n    var encrypted = CryptoJS.AES.encrypt(testPayload, CryptoJS.enc.Utf8.parse(actionKey), { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 });\r\n    resolve({\r\n      payload: \"{\\\"TEAYk6R1\\\":{\\\"ytHoz4E2\\\":\\\"75527\\\",\\\"z5hB3P01\\\":\\\"75fYdNxq\\\"},\\\"t7n6cVWf\\\":{\\\"qrVcDe48\\\":\\\"\" + encrypted.ciphertext.toString(CryptoJS.enc.Base64) + \"\\\"}}\"\r\n    });\r\n  }));\r\n}\r\n\r\nfunction getLoginToken(accountId, authToken, isGoogle, data) {\r\n  // console.log('getLoginToken(accountId, authToken, isGoogle, data)', accountId, authToken, isGoogle, data)\r\n  return new Promise(resolve => {\r\n    if (isGoogle) {\r\n      data.loginToken = \"{\\\"LhVz6aD2\\\":[{\" +\r\n        \"\\\"9qh17ZUf\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9qh17ZUf\"] + \"\\\",\" +\r\n        \"\\\"JC61TPqS\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"JC61TPqS\"] + \"\\\",\" +\r\n        \"\\\"6Nf5risL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"6Nf5risL\"] + \"\\\",\" +\r\n        \"\\\"40w6brpQ\\\":\\\"0\\\",\" +\r\n        \"\\\"jHstiL12\\\":\\\"0\\\",\" +\r\n        \"\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\" +\r\n        \"\\\"K1G4fBjF\\\":\\\"2\\\",\" +\r\n        \"\\\"e8Si6TGh\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"e8Si6TGh\"] + \"\\\",\" +\r\n        \"\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\" +\r\n        \"\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\" +\r\n        \"\\\"m3Wghr1j\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"m3Wghr1j\"] + \"\\\",\" +\r\n        \"\\\"ma6Ac53v\\\":\\\"0\\\",\" +\r\n        \"\\\"D2I1Vtog\\\":\\\"0\\\",\" +\r\n        \"\\\"9K0Pzcpd\\\":\\\"10000\\\",\" +\r\n        \"\\\"mESKDlqL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"mESKDlqL\"] + \"\\\",\" +\r\n        \"\\\"iVN1HD3p\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"iVN1HD3p\"] + \"\\\",\" +\r\n        \"\\\"Y76dKryw\\\":null,\" +\r\n        \"\\\"6e4ik6kA\\\":\\\"\\\",\" +\r\n        \"\\\"NggnPgQC\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"NggnPgQC\"] + \"\\\",\" +\r\n        \"\\\"GwtMEDfU\\\":\\\"\" + accountId + \"\\\",\" +\r\n        \"\\\"e5zgvyv7\\\":\\\"\" + authToken + \"\\\",\" +\r\n        \"\\\"9Tbns0eI\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9Tbns0eI\"] + \"\\\"\" +\r\n        \"}],\\\"QCcFB3h9\\\":[{\\\"qrVcDe48\\\":\\\"\" + data.jsonResult[\"QCcFB3h9\"][0][\"qrVcDe48\"] +\r\n        \"\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_AND\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"}]}\";\r\n    } else {\r\n      data.loginToken = \"{\\\"LhVz6aD2\\\":[{\\\"JC61TPqS\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"JC61TPqS\"] + \"\\\",\\\"m3Wghr1j\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"m3Wghr1j\"] + \"\\\",\\\"mESKDlqL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"mESKDlqL\"] + \"\\\",\\\"iVN1HD3p\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"iVN1HD3p\"] + \"\\\",\\\"9K0Pzcpd\\\":\\\"10000\\\",\\\"X6jT6zrQ\\\":\\\"10101870574910143\\\",\\\"9Tbns0eI\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9Tbns0eI\"] + \"\\\",\\\"9qh17ZUf\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"9qh17ZUf\"] + \"\\\",\\\"6Nf5risL\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"6Nf5risL\"] + \"\\\",\\\"io30YcLA\\\":\\\"Nexus 6P_android6.0\\\",\\\"K1G4fBjF\\\":\\\"2\\\",\\\"e8Si6TGh\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"e8Si6TGh\"] + \"\\\",\\\"U7CPaH9B\\\":\\\"\" + data.jsonResult[\"LhVz6aD2\"][0][\"U7CPaH9B\"] + \"\\\",\\\"1WKh6Xqe\\\":\\\"ver.2.7.0.1\\\",\\\"64anJRhx\\\":\\\"2019-02-08 11:15:15\\\",\\\"Y76dKryw\\\":null,\\\"6e4ik6kA\\\":\\\"\\\",\\\"NggnPgQC\\\":\\\"\\\",\\\"DOFV3qRF\\\":null,\\\"P_FB_TOKEN\\\":null,\\\"P_FB_ID\\\":null}],\\\"QCcFB3h9\\\":[{\\\"qrVcDe48\\\":\\\"\" + data.jsonResult[\"QCcFB3h9\"][0][\"qrVcDe48\"] + \"\\\"}],\\\"Euv8cncS\\\":[{\\\"K2jzG6bp\\\":\\\"0\\\"}],\\\"c1qYg84Q\\\":[{\\\"a4hXTIm0\\\":\\\"F_APP_VERSION_IOS\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"},{\\\"a4hXTIm0\\\":\\\"F_RSC_VERSION\\\",\\\"wM9AfX6I\\\":\\\"0\\\"},{\\\"a4hXTIm0\\\":\\\"F_MST_VERSION\\\",\\\"wM9AfX6I\\\":\\\"10000\\\"}]}\";\r\n    }\r\n    resolve(data);\r\n  });\r\n}\r\n\r\n//facebook error here?\r\nfunction getUserInfoRequestPayload(actionKey, payloadKey, data) {\r\n  // console.log('getUserInfoRequestPayload', actionKey, payloadKey, data)\r\n  // var secondEncrypted = CryptoJS.AES.encrypt(data.loginToken, CryptoJS.enc.Utf8.parse(actionKey), { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 });\r\n  // console.log('var secondEncrypted',secondEncrypted.ciphertext.toString(CryptoJS.enc.Base64))\r\n  return new Promise(resolve => {\r\n    var secondEncrypted = CryptoJS.AES.encrypt(data.loginToken, CryptoJS.enc.Utf8.parse(actionKey), { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 });\r\n    data.payload = `{\"TEAYk6R1\":{\"ytHoz4E2\":\"75528\",\"z5hB3P01\":\"${payloadKey}\"},\"t7n6cVWf\":{\"qrVcDe48\":\"${secondEncrypted.ciphertext.toString(CryptoJS.enc.Base64)}\"}}`;\r\n    resolve(data);\r\n    // console.log('getUserInfoRequestPayload', actionKey, payloadKey, data)\r\n  });\r\n}\r\n\r\n// async function callActionSymbol(actionSymbol, actionKey, data) {\r\n//   console.log('callActionSymbol(actionSymbol, actionKey, data)', actionSymbol, actionKey, data)\r\n//   console.log('callActionSymbol payload', data.payload, typeof data.payload)\r\n//   try {\r\n//     const response = await axios({\r\n//       method: \"POST\",\r\n//       url: `https://lapis340v-gndgr.gumi.sg/lapisProd/app/php/gme/actionSymbol/${actionSymbol}.php`,\r\n//       data: data.payload,\r\n//       contentType: \"application/json; charset=utf-8\",\r\n//       dataType: \"json\"\r\n//     })\r\n//     // const response = await axios.post(`https://lapis340v-gndgr.gumi.sg/lapisProd/app/php/gme/actionSymbol/${actionSymbol}.php`, data.payload)\r\n//     console.log('callactionsymbol response', response)\r\n//     // const encryptedPayload = response.data['t7n6cVWf'] ? response.data['t7n6cVWf']['qrVcDe48'] : JSON.parse(data.payload)['t7n6cVWf']['qrVcDe48'];\r\n//     const encryptedPayload = response.data['t7n6cVWf']['qrVcDe48'];\r\n//     // console.log('encryptedPayload', encryptedPayload)\r\n//     const decrypted = CryptoJS.AES.decrypt({\r\n//       ciphertext: CryptoJS.enc.Base64.parse(encryptedPayload.toString())\r\n//     }, CryptoJS.enc.Utf8.parse(actionKey), { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 });\r\n\r\n//     response.data.jsonResult = JSON.parse(CryptoJS.enc.Utf8.stringify(decrypted));\r\n//     console.log('callActionSymbol data', response.data)\r\n//     return Promise.resolve(response.data)\r\n//   } catch (error) {\r\n//     console.log('callActionSymbol error', error)\r\n//   }\r\n// }\r\n\r\nfunction callActionSymbol(actionSymbol, actionKey, data) {\r\n  // console.log('callActionSymbol(actionSymbol, actionKey, data)', actionSymbol, actionKey, data)\r\n  // console.log('callActionSymbol payload', data.payload, typeof data.payload)\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      method: \"POST\",\r\n      url: `https://lapis340v-gndgr.gumi.sg/lapisProd/app/php/gme/actionSymbol/${actionSymbol}.php`,\r\n      data: data.payload,\r\n      contentType: \"application/json; charset=utf-8\",\r\n      responseType: \"json\"\r\n    })\r\n    //axios.post(`https://lapis340v-gndgr.gumi.sg/lapisProd/app/php/gme/actionSymbol/${actionSymbol}.php`, data.payload)\r\n      .then(response => {\r\n        try {\r\n          console.log('callActionSymbol response', response)\r\n          var encryptedPayload = response.data['t7n6cVWf']['qrVcDe48'];\r\n          var decrypted = CryptoJS.AES.decrypt({\r\n            ciphertext: CryptoJS.enc.Base64.parse(encryptedPayload.toString())\r\n          }, CryptoJS.enc.Utf8.parse(actionKey), { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 });\r\n\r\n          data.jsonResult = JSON.parse(CryptoJS.enc.Utf8.stringify(decrypted));\r\n          // console.log('callActionSymbol data.payload', data.payload)\r\n          // console.log('callActionSymbol data.jsonResult', data.jsonResult)\r\n          resolve(data);\r\n        } catch (e) {\r\n          reject({\r\n            actionSymbol: actionSymbol,\r\n            status: e.name,\r\n            error: e.message\r\n          });\r\n        }\r\n      })\r\n  });\r\n}"]},"metadata":{},"sourceType":"script"}