{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addInventoryLink = addInventoryLink;\nvar exportDate;\nexportDate = formatDate(new Date());\n\nfunction formatDate(d) {\n  var month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = d.getFullYear();\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n  return [year, month, day].join('-');\n}\n\nfunction addInventoryLink(data) {\n  console.log('addInventoryLink data', data);\n  var ret = [];\n  var userData = data.userData;\n  var userData2 = data.userData2;\n  var userData3 = data.userData3;\n  var userEquipListStringArray = userData['w83oV9uP'][0]['HpL3FM4V'].split(\",\");\n  userEquipListStringArray.forEach(function (userEquipStr) {\n    var equipStrData = userEquipStr.split(':');\n    var equipId = equipStrData[0];\n    var equipCount = parseInt(equipStrData[1]);\n\n    if (equipId && equipCount) {\n      ret.push({\n        'id': equipId,\n        'count': equipCount\n      });\n    }\n  });\n  var visionCards = userData['2Xi0wuGA'];\n  visionCards.forEach(function (vc) {\n    ret.push({\n      'id': vc['5giCMUd2'],\n      'count': 1,\n      'level': vc['7wV3QZ80']\n    });\n  });\n\n  if (userData3 != null) {\n    var userCustomEquips = userData3['uRZxw78i'];\n    userCustomEquips.forEach(function (userCustomEquip) {\n      var equipId = userCustomEquip[\"J1YX9kmM\"];\n      var enhancements = [];\n      var customAbilityArray = userCustomEquip[\"nM63Zvtp\"].split(\",\");\n      customAbilityArray.forEach(function (customAbilityStr) {\n        if (customAbilityStr) {\n          var abilityId = customAbilityStr.split(\":\")[1];\n          enhancements.push(abilityId);\n        }\n      });\n      ret.push({\n        'id': equipId,\n        'count': 1,\n        'enhancements': enhancements\n      });\n    });\n  }\n\n  var userMateriaListStringArray = userData['aS39Eshy'][0]['HpL3FM4V'].split(\",\");\n  userMateriaListStringArray.forEach(function (userMateriaStr) {\n    var materiaStrData = userMateriaStr.split(':');\n    var materiaId = materiaStrData[0];\n    var materiaCount = parseInt(materiaStrData[1]);\n\n    if (materiaId && materiaCount) {\n      ret.push({\n        'id': materiaId,\n        'count': materiaCount\n      });\n    }\n  });\n  return {\n    inventoryHref: JSON.stringify(ret),\n    inventoryDownload: userData['LhVz6aD2'][0]['9qh17ZUf'] + \"_\" + exportDate + \"_inventory.json\"\n  };\n}","map":{"version":3,"sources":["C:/Users/Douchington/Desktop/Scripts/ffbeDataExporterMobile/addLinks.js"],"names":["exportDate","formatDate","Date","d","month","getMonth","day","getDate","year","getFullYear","length","join","addInventoryLink","data","console","log","ret","userData","userData2","userData3","userEquipListStringArray","split","forEach","userEquipStr","equipStrData","equipId","equipCount","parseInt","push","visionCards","vc","userCustomEquips","userCustomEquip","enhancements","customAbilityArray","customAbilityStr","abilityId","userMateriaListStringArray","userMateriaStr","materiaStrData","materiaId","materiaCount","inventoryHref","JSON","stringify","inventoryDownload"],"mappings":"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","sourcesContent":["var exportDate;\r\nexportDate = formatDate(new Date());\r\nfunction formatDate(d) {\r\n    var month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2) month = '0' + month;\r\n    if (day.length < 2) day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}\r\n\r\nexport function addInventoryLink(data) {\r\n    console.log('addInventoryLink data', data)\r\n    var ret = [];\r\n\r\n    let userData = data.userData;\r\n    let userData2 = data.userData2;\r\n    let userData3 = data.userData3;\r\n\r\n    var userEquipListStringArray = userData['w83oV9uP'][0]['HpL3FM4V'].split(\",\");\r\n\r\n    userEquipListStringArray.forEach(function(userEquipStr){\r\n        var equipStrData = userEquipStr.split(':');\r\n        var equipId = equipStrData[0];\r\n        var equipCount = parseInt(equipStrData[1]);\r\n        if (equipId && equipCount) {\r\n            ret.push({'id': equipId, 'count': equipCount});\r\n        }\r\n    });\r\n\r\n    var visionCards = userData['2Xi0wuGA'];\r\n    visionCards.forEach(vc => {\r\n        ret.push({'id':vc['5giCMUd2'], 'count': 1, 'level':vc['7wV3QZ80']});\r\n    })\r\n\r\n    if (userData3 != null)\r\n    {\r\n        var userCustomEquips = userData3['uRZxw78i'];\r\n        userCustomEquips.forEach(function(userCustomEquip){\r\n            var equipId = userCustomEquip[\"J1YX9kmM\"];\r\n            var enhancements = [];\r\n            var customAbilityArray = userCustomEquip[\"nM63Zvtp\"].split(\",\");\r\n            customAbilityArray.forEach(function(customAbilityStr){\r\n               if (customAbilityStr) {\r\n                   var abilityId = customAbilityStr.split(\":\")[1];\r\n                   enhancements.push(abilityId);\r\n                }\r\n            });\r\n            ret.push({'id':equipId, 'count':1, 'enhancements': enhancements});\r\n        });\r\n    }\r\n\r\n    var userMateriaListStringArray = userData['aS39Eshy'][0]['HpL3FM4V'].split(\",\");\r\n\r\n    userMateriaListStringArray.forEach(function(userMateriaStr){\r\n        var materiaStrData = userMateriaStr.split(':');\r\n        var materiaId = materiaStrData[0];\r\n        var materiaCount = parseInt(materiaStrData[1]);\r\n        if (materiaId && materiaCount) {\r\n            ret.push({'id': materiaId, 'count': materiaCount});\r\n        }\r\n    });\r\n\r\n    return {inventoryHref: JSON.stringify(ret), inventoryDownload: userData['LhVz6aD2'][0]['9qh17ZUf'] + \"_\" + exportDate + \"_inventory.json\"} \r\n    // return {inventoryHref: 'data:text/plain;charset=utf-8,' + encodeURIComponent(JSON.stringify(ret)), inventoryDownload: userData['LhVz6aD2'][0]['9qh17ZUf'] + \"_\" + exportDate + \"_inventory.json\"} \r\n    \r\n    // var link = $('#downloadInventory');\r\n    // link.attr('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(JSON.stringify(ret)));\r\n    // link.attr('download', userData['LhVz6aD2'][0]['9qh17ZUf'] + \"_\" + exportDate + \"_inventory.json\");\r\n}"]},"metadata":{},"sourceType":"script"}